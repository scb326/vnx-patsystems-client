<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsflot="http://www.jsflot.org/taglib/jsflot"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
	<head>
		<jsflot:resources />
		<title>Demo</title>
		<style type="text/css">
		.body-non-pad-margin {
			padding: 0px;
			margin: 0px;
			overflow: auto;
		}
		
		.priceUpdatedTable {
			height:225px;
		}
		
		.alignTop {
			vertical-align: top;
		}
		
		.updated_cell {
			color: blue;
		}
		
		.adsPanel {
			width:12%;
			height: 600px;
			vertical-align: top;
		}
		
		.mainPanel {
			vertical-align: top;
		}
		
		.priceUpdatedPanel {
			width:70%;
			height: 280px;
			vertical-align: top;
		}
		
		.tradePanel {
			width:30%;
			height:280px;
			vertical-align: top;
		}
		.colValue {
			width:70%;
		}
		.colIcon {
			width:30%;
		}
		.body_bg {
			background-image:url(images/ui-bg_diagonals-thick_8_333333_40x40.png);
			background-repeat:repeat-y-x;
			background-color: #5C5C5C;
		}
		
		.rich-tab-header {
			font-family: Arial;
			font-size: larger;
			font-weight: bold;
			color: black;
			width: 100px;
			height: 25px;
		}
		</style>
		<script type="text/javascript">
			var timer_id;
			var timer_is_on = 0;
	
			function timedCount() {
				getClientTime();
				timer_id = setTimeout("timedCount()",1000);
			}
	
			function doTimer() {
				if (!timer_is_on) {
					timer_is_on = 1;
					timedCount();
				}
			}
		
			function getClientTime() {
				var d = new Date();
				
				var curr_hour = d.getHours();
				var curr_min = d.getMinutes();
				var curr_sec = d.getSeconds();
				
				curr_hour = curr_hour.toString();
				curr_min = curr_min.toString();
				curr_sec = curr_sec.toString();

				if (curr_hour.length &lt; 2) {
					curr_hour = "0" + curr_hour;
				}

				if (curr_min.length &lt; 2) {
					curr_min = "0" + curr_min;
				}
				
				if (curr_sec.length &lt; 2) {
					curr_sec = "0" + curr_sec;
				}
				
				document.getElementById('mainForm:txtClientTime').innerHTML = curr_hour + ":" + curr_min + ":" + curr_sec;
			}
		</script>
	</head>
<body onload="doTimer()">
	<f:view>
		<a4j:form id="mainForm">
			<!-- Header -->
			<ui:include src="/header.xhtml">
			</ui:include>
			<!-- Header -->

			<rich:panel bodyClass="body-non-pad-margin" styleClass="body_bg">
				<!-- main area -->
				<h:panelGrid columns="3" width="100%" columnClasses="adsPanel,mainPanel,adsPanel">
					<rich:panel  bodyClass="body-non-pad-margin" style="border-width:0px;height:100%;background-color:transparent;" columnClasses="alignTop">
						<!-- Left Ads area -->
						
					</rich:panel>
	
					<rich:panel bodyClass="body-non-pad-margin" style="border-width:0px; background-color:transparent;">
						<h:panelGrid columns="2" columnClasses="priceUpdatedPanel,tradePanel"  width="100%">
							<rich:panel styleClass="ui-dialog-content ui-widget-content ui-corner-all" style="border: 0; height:310px;">
								<rich:tabPanel switchType="client" styleClass="priceUpdatedPanel" width="100%">
							        <rich:tab label="Table" labelWidth="100px" >
								        <rich:panel bodyClass="body-non-pad-margin priceUpdatedTable">
											<rich:dataTable
												onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
												onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
												cellpadding="0" cellspacing="0" width="100%" border="0"
												var="quoteBean" value="#{quoteBean}" id="tblData">
			
												<f:facet name="header">
													<rich:columnGroup>
														<rich:column width="10%">
															<h:outputText value="Icon" />
														</rich:column>
														<rich:column width="25%">
															<h:outputText value="Title" />
														</rich:column>
														<rich:column width="15%">
															<h:outputText value="Bid" />
														</rich:column>
														<rich:column width="15%">
															<h:outputText value="Ask" />
														</rich:column>
														<rich:column width="15%">
															<h:outputText value="Last" />
														</rich:column>
														<rich:column width="15%">
															<h:outputText value="TickVol" />
														</rich:column>
														<rich:column width="10%">
															<h:outputText value="DOM" />
														</rich:column>
													</rich:columnGroup>
												</f:facet>
												<rich:subTable
							                        onRowMouseOver="this.style.backgroundColor='#F8F8F8'"
							                        onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
							                        var="quote" value="#{quoteBean.quotes}" id="tblSubTable">
							                        <rich:column style="#{quote.rowStyle}">
							                            <h:outputText value="#{quote.icon}"></h:outputText>
							                        </rich:column>
							                        <rich:column style="#{quote.rowStyle}">
							                            <h:outputText value="#{quote.title}"></h:outputText>
							                        </rich:column>
							                        <rich:column style="#{quote.rowStyle}">
							                        	<h:panelGrid columns="2" columnClasses="colValue, colIcon">
							                            	<h:outputText value="#{quote.bid}" style="#{quote.bidStyleClass}"></h:outputText>
							                            	<h:graphicImage value="/images/#{quote.bidStatus}.png" rendered="#{quote.bidUpdated}"/>
							                            </h:panelGrid>
							                        </rich:column>
							                        <rich:column style="#{quote.rowStyle}">
								                        <h:panelGrid columns="2" columnClasses="colValue, colIcon">
								                            <h:outputText value="#{quote.ask}" style="#{quote.askStyleClass}"></h:outputText>
								                            <h:graphicImage value="/images/#{quote.askStatus}.png" rendered="#{quote.askUpdated}"/>
								                        </h:panelGrid>
							                        </rich:column>
							                        <rich:column style="#{quote.rowStyle}">
								                        <h:panelGrid columns="2" columnClasses="colValue, colIcon">
								                            <h:outputText value="#{quote.last}" style="#{quote.lastStyleClass}"></h:outputText>
								                            <h:graphicImage value="/images/#{quote.lastStatus}.png" rendered="#{quote.lastUpdated}"/>
								                        </h:panelGrid>
							                        </rich:column>
							                        <rich:column style="#{quote.rowStyle}">
								                        <h:panelGrid columns="2" columnClasses="colValue, colIcon">
								                            <h:outputText value="#{quote.tickVol}" style="#{quote.tickVolStyleClass}"></h:outputText>
								                            <h:graphicImage value="/images/#{quote.tickVolStatus}.png" rendered="#{quote.tickVolUpdated}"/>
								                        </h:panelGrid>
							                        </rich:column>
							                        <rich:column style="#{quote.rowStyle}">
							                        	<a4j:commandLink style="COLOR: #0000ff;">
							                        		<h:outputText value="#{quote.dom}"></h:outputText>
							                        	</a4j:commandLink>
							                            
							                        </rich:column>                
							                    </rich:subTable>
											</rich:dataTable>
											<a4j:poll id="poll" interval="1000" enabled="true"
											reRender="tblData, txtServerTime" action="#{quoteBean.refreshScreen}" />
										</rich:panel>
							        </rich:tab>
							        <rich:tab label="Grid"  labelWidth="100px">
							            <rich:dataGrid value="#{quoteBean.quotes}" var="quote" columns="3" elements="9" width="600px" id="dataGrid">
								            <rich:panel bodyClass="pbody">
								                <f:facet name="header">
								                    <h:outputText value="#{quote.title}"></h:outputText>
								                </f:facet>
								                <h:panelGrid columns="2">
								                    <h:outputText value="Price:" styleClass="label"></h:outputText>
								                    <h:outputText value="#{quote.bid}" />
								                    <h:outputText value="Mileage:" styleClass="label"></h:outputText>
								                    <h:outputText value="#{quote.ask}" />
								                    <h:outputText value="VIN:" styleClass="label"></h:outputText>
								                    <h:outputText value="#{quote.last}" />
								                    <h:outputText value="Stock:" styleClass="label"></h:outputText>
								                    <h:outputText value="#{quote.tickVol}" />
								                </h:panelGrid>
								            </rich:panel>
								            <f:facet name="footer">
								                <rich:datascroller></rich:datascroller>
								            </f:facet>
								        </rich:dataGrid>
							        </rich:tab>
							    </rich:tabPanel>
							</rich:panel>
							
							<rich:panel styleClass="ui-dialog-content ui-widget-content ui-corner-all" style="border: 0; height:310px;" width="100%">
								<rich:tabPanel  styleClass="tradePanel" switchType="client" id="tradeTabId" width="100%">
									<rich:tab reRender="tradeTabId" label="Trade">
					            		<!-- Trade Input area -->
					            		<h:panelGrid columns="2" width="100%">
					            			<h:outputText value="Exchange"/>
					            			<h:selectOneMenu>
												<f:selectItem itemLabel="SGX" itemValue="SGX"/>
												<f:selectItem itemLabel="VNXSIM" itemValue="VNXSIM"/>
											</h:selectOneMenu>
					            		
					            			<h:outputText value="Commodity"/>
					            			<h:selectOneMenu>
												<f:selectItem itemLabel="QCR" itemValue="QCR"/>
												<f:selectItem itemLabel="R COFFEE" itemValue="R COFFEE"/>
												<f:selectItem itemLabel="RUBBER" itemValue="RUBBER"/>
												<f:selectItem itemLabel="SGXTSG20" itemValue="SGXTSG20"/>
												<f:selectItem itemLabel="VCR" itemValue="VCR"/>
												<f:selectItem itemLabel="VRSS3" itemValue="VRSS3"/>
											</h:selectOneMenu>
					            		
					            			<h:outputText value="Contract Date"/>
					            			<h:selectOneMenu>
												<f:selectItem itemLabel="JAN" itemValue="JAN"/>
												<f:selectItem itemLabel="FEB" itemValue="FEB"/>
												<f:selectItem itemLabel="MAR" itemValue="MAR"/>
												<f:selectItem itemLabel="APR" itemValue="APR"/>
												<f:selectItem itemLabel="MAY" itemValue="MAY"/>
												<f:selectItem itemLabel="JUN" itemValue="JUN"/>
												<f:selectItem itemLabel="JUL" itemValue="JUL"/>
												<f:selectItem itemLabel="AUG" itemValue="AUG"/>
												<f:selectItem itemLabel="SEP" itemValue="SEP"/>
												<f:selectItem itemLabel="OCT" itemValue="OCT"/>
												<f:selectItem itemLabel="NOV" itemValue="NOV"/>
												<f:selectItem itemLabel="DEC" itemValue="DEC"/>
											</h:selectOneMenu>
					            		
					            			<h:outputText value="Order Type"/>
					            			<h:selectOneMenu>
												<f:selectItem itemLabel="Limit" itemValue="Limit"/>
												<f:selectItem itemLabel="Limit FAK" itemValue="Limit FAK"/>
												<f:selectItem itemLabel="Limit FOK" itemValue="Limit FOK"/>
												<f:selectItem itemLabel="Market" itemValue="Market"/>
												<f:selectItem itemLabel="Market FOK" itemValue="Market FOK"/>
												<f:selectItem itemLabel="Mkt Limit" itemValue="Mkt Limit"/>
												<f:selectItem itemLabel="RFQ" itemValue="RFQ"/>
											</h:selectOneMenu>
											
											<h:outputText value="Lots"/>
											<rich:inputNumberSpinner style="margin-left:2px" value="1"/>
											
											<h:outputText value="Price"/>
											<h:inputText size="7" value="1000"/>
					            		</h:panelGrid>
					            		
					            		<h:selectOneRadio style="margin-left:65px">
											<f:selectItem id="sir1" itemLabel="Open" itemValue="Open" />
											<f:selectItem id="sir2" itemLabel="Close" itemValue="Close" />
										</h:selectOneRadio>
										
										<h:panelGroup style="margin-left:75px" width="100%">
											 <a4j:commandButton id="btnSell" value="Sell" styleClass="ui-state-default ui-corner-all"
											  onmouseover="this.className='ui-state-hover ui-corner-all'" onmouseout="this.className='ui-state-default ui-corner-all'"/>
											 <rich:spacer width="10" height="5"/>
											 <a4j:commandButton id="btnBuy" value="Buy" styleClass="ui-state-default ui-corner-all"
											 onmouseover="this.className='ui-state-hover ui-corner-all'" onmouseout="this.className='ui-state-default ui-corner-all'"/>
										</h:panelGroup>
							        </rich:tab>
								</rich:tabPanel>
							</rich:panel>
						</h:panelGrid>
						
						<!-- Tab Area -->
						<rich:tabPanel switchType="client" id="tabId" height="200px">
							<rich:tab reRender="tabId" label="Status">
					            		<rich:dataTable 
						                    onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						                    onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
						                    cellpadding="0" cellspacing="0"
						                    width="100%" border="0" var="quoteBean" value="#{quoteBean}" id="tblStatusData" >
						                
						                    <f:facet name="header">
						                        <rich:columnGroup>
						                            <rich:column>
						                                <h:outputText value="OrderID"/>
						                            </rich:column>
						                            <rich:column>
						                                <h:outputText value="Status"/>
						                            </rich:column>
						                            <rich:column>
						                                <h:outputText value="Exchange" />
						                            </rich:column>
						                            <rich:column>
						                                <h:outputText value="Commodity" />
						                            </rich:column>
						                            <rich:column>
						                                <h:outputText value="Contract" />
						                            </rich:column>
						                            <rich:column>
						                                <h:outputText value="Operation" />
						                            </rich:column>
						                        </rich:columnGroup>
						                    </f:facet>
						                    <rich:subTable
						                        onRowMouseOver="this.style.backgroundColor='#F8F8F8'"
						                        onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
						                        var="status" value="#{quoteBean.statusInfos}" id="tblStatusSubTable">
						                        <rich:column >
						                            <h:outputText value="#{status.orderId}"></h:outputText>
						                        </rich:column>
						                        <rich:column align="center">
						                            <h:outputText value="#{status.status}" ></h:outputText>
						                        </rich:column>
						                        <rich:column>
							                        <h:outputText value="#{status.exchange}" ></h:outputText>
						                        </rich:column>
						                        <rich:column >
							                        <h:outputText value="#{status.commodity}" ></h:outputText>
						                        </rich:column>
						                        <rich:column align="center">
							                        <h:outputText value="#{status.contractDate}" ></h:outputText>
						                        </rich:column>    
						                         <rich:column align="center">
						                         	<h:panelGrid columns="2">
								                        <h:commandLink value="amend" /> 
								                        <h:commandLink value="cancel" /> 
							                        </h:panelGrid>
						                        </rich:column>  
						                                     
						                    </rich:subTable>
						                </rich:dataTable>
							       	</rich:tab>
							<rich:tab reRender="tabId" label="Fills">
							            
							            <rich:dataTable onRowMouseOver="this.style.backgroundColor='#F8F8F8'"
							            				onRowMouseOut ="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
							            				cellpadding="0" cellspacing="0" border="0" 
							            				width="100%" var="quoteBean" value="#{quoteBean}" id="tblFillData">
							            	<f:facet name="header">
							            		<rich:columnGroup>
							            			<rich:column >
							            				<h:outputText value="Fill ID" />
							            			</rich:column>
							            			<rich:column >
							            				<h:outputText value="Order ID" />
							            			</rich:column>
							            			<rich:column >
							            				<h:outputText value="Lots" />
							            			</rich:column>
							            			<rich:column >
							            				<h:outputText value="Price" />
							            			</rich:column>
							            			<rich:column >
							            				<h:outputText value="Filled" />
							            			</rich:column>
							            			<rich:column >
							            				<h:outputText value="Received" />
							            			</rich:column>
							            		</rich:columnGroup>
							            	</f:facet>
							            	<rich:subTable 
							            			 onRowMouseOver="this.style.backgroundColor='#F8F8F8'"
						                        	 onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
						                        	 var = "fill" value="#{quoteBean.fillInfors}"  id="tblFillSubTable">
							            			<rich:column>
							            				<h:panelGrid column="2">
							            					<h:outputText value="#{fill.fillId}"/>
							            				</h:panelGrid>
							            			</rich:column>
							            			<rich:column>
							            				<h:outputText value="#{fill.orderId}"/>
							            			</rich:column>
							            			<rich:column>
							            				<h:outputText value="#{fill.lotNum}"/>
							            			</rich:column>
							            			<rich:column>
							            				<h:outputText value="#{fill.price}"/>
							            			</rich:column>
							            			<rich:column>
							            				<h:outputText value="#{fill.filled}"/>
							            			</rich:column>
							            			<rich:column>
							            				<h:outputText value="#{fill.received}"/>
							            			</rich:column>
							            	</rich:subTable>
							            	
							            </rich:dataTable>
							        </rich:tab>
							<rich:tab reRender="tabId" label="History">
							           	History tab
							        </rich:tab>
							<rich:tab reRender="tabId" label="Chart">
							            <!--<ui:include src="/chart.xhtml">
			</ui:include>
							        --></rich:tab>
							<rich:tab reRender="tabId" label="Add Widget +">
							            Add Widget tab
							        </rich:tab>
						</rich:tabPanel>
					</rich:panel>
					
					<rich:panel bodyClass="body-non-pad-margin" style="height:100%; border-width:0px; background-color:transparent;" columnClasses="alignTop">
						<!-- Right Ads area -->
						
					</rich:panel>
				</h:panelGrid>
				
			</rich:panel>
			<!-- div class="ui-widget-shadow ui-corner-all" style="width: 525px; height: 250px; position: absolute; left: 165px; top: 155px;"></div-->
		</a4j:form>
	</f:view>
</body>
</html>

